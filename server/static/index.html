<html>
<head>
<title>Rebusrally-status</title>
    <script language="JavaScript">
        function on_send_message() {
            var message = document.getElementById("sendmessage").value;
            document.getElementById("sendmessage").value = "";
            var xhttp = new XMLHttpRequest();
            xhttp.open("POST", "/sendmessage", true);
            xhttp.setRequestHeader("Content-type", "text/plain");
            xhttp.send(message);
        }

        function on_start_rally() {
            var answer = confirm("This starts the rally, are you sure?");
            if (answer) {
                var xhttp = new XMLHttpRequest();
                xhttp.open("POST", "/startrally", true);
                xhttp.setRequestHeader("Content-type", "text/plain");
                xhttp.send("START");
            }
        }

        function on_start_afternoon() {
            var answer = confirm("This starts the afternoon, are you sure?");
            if (answer) {
                var xhttp = new XMLHttpRequest();
                xhttp.open("POST", "/startafternoon", true);
                xhttp.setRequestHeader("Content-type", "text/plain");
                xhttp.send("START");
            }
        }

        function on_warp() {
            var team = document.getElementById("debug_team").value;
            var section = document.getElementById("warp_section").value;
            var frame = document.getElementById("warp_frame").value;
            var xhttp = new XMLHttpRequest();
            xhttp.open("POST", "/warp/" + team + "/" + section, true);
            xhttp.setRequestHeader("Content-type", "text/plain");
            xhttp.send(frame);
        }

        function on_solve_morning_rebus() {
            var team = document.getElementById("debug_team").value;
            var xhttp = new XMLHttpRequest();
            xhttp.open("POST", "/debug_solved_start_rebus/" + team, true);
            xhttp.setRequestHeader("Content-type", "text/plain");
            xhttp.send("Do it!");
        }

        function on_solve_afternoon_rebus() {
            var team = document.getElementById("debug_team").value;
            var xhttp = new XMLHttpRequest();
            xhttp.open("POST", "/debug_solved_lunch_rebus/" + team, true);
            xhttp.setRequestHeader("Content-type", "text/plain");
            xhttp.send("Do it!");
        }
    </script>
</head>
<body>
Send a message to all <input type="text" id="sendmessage" name="sendmessage" value=""/><input type="button" onclick="on_send_message()" value="Send"/><br>
<br>
<input type="button" onclick="on_start_rally()" value="Start the rally! (publish first rebus)"/><br>
<br>
<input type="button" onclick="on_start_afternoon()" value="Start the afternoon! (publish lunch rebus)"/><br>
<br>
<h1>Debug</h1>
Team <input type="text" id="debug_team" name="debug_team" value="1"/><br>
Warp team to section <input type="text" id="warp_section" name="warp_section" value="1"/> frame <input type="text" id="warp_frame" name="warp_frame" value=""/> <input type="button" onclick="on_warp()" value="Warp"/><br>
<input type="button" onclick="on_solve_morning_rebus()" value="Solve morning rebus"/><br>
<input type="button" onclick="on_solve_afternoon_rebus()" value="Solve afternoon rebus"/><br>
<!--
<input type="button" onclick="on_debug_restart()" value="Reset bus position"/><br>
-->
</body>
</html>